# 언리얼 C++ 학습 정리

**2025/04/04 [포텐업] 게임 개발자 양성 과정**

---

## 언리얼 컨테이너 라이브러리

TArray, TSet, TMap,  구조체



## 언리얼 엔진 메모리 관리

C++ 은 저수준으로 메모리 주소에 직접 접근하는 포인터를 사용해 오브젝트를 관리한다. -> **프로그래머가 직접 할당(new)과 해지(delete) 짝 맞추기를 해야 한다.**

이를 잘 지키지 못 할 경우 다양한 문제가 발생할 수 있다.

* **메모리 누수(Memory Leak) : new를 했는데 delete 짝을 맞추지 못함, 힙에 메모리가 그대로 남아있음**
* **허상(Dangling) 포인터 : (다른 곳에서) 이미 해제해 무효화된 오브젝트의 주소를 가리키는 포인터**
* **와일드(Wild) 포인터 : 값이 초기화되지 않아 엉뚱한 주소를 가리키는 포인터**

잘못된 포인터 값은 다양한 문제를 일으키며, 한 번의 실수는 프로그램을 종료시킴

게임 규모가 커지고 구조가 복잡해질수록 프로그래머가 실수할 확률은 크게 증가한다.



#### 가비지 컬렉션 시스템

**프로그램에서 더 이상 사용되지 않는 오브젝트를 자동으로 감지해 메모리를 회수하는 시스템**

동적으로 생성된 모든 오브젝트 정보를 모아둔 저장소를 사용해 사용되지 않는 메모리를 추적한다.



**마크-스윕(Mark-Sweep) 방식의 가비지 컬렉션**

1. 저장소에서 최초 검색을 시작하는 루트 오브젝트를 표기
2. 루트 오브젝트가 참조하는 객체를 찾아 마크(Mark)한다.
3. 마크된 객체로부터 다시 참조하는 객체를 찾아 마크하고 이를 계속 반복한다.
4. 이제 저장소에는 마크된 객체와 마크되지 않은 객체의 두 그룹으로 나뉜다.
5. 가비지 컬렉터가 저장소에서 마크되지 않은 객체(가비지)들의 메모리를 회수(Sweep)한다.

<img src= "https://github.com/KwonJeHan/Study-cpp/blob/main/img/GarbageCollect.png">



언리얼 엔진은 마크-스윕 방식의 가비지컬렉션 시스템을 자체적으로 구축했다.

지정된 주기마다 몰아서 없애도록 설정되어 있다. (GCCycle. 기본 값 60초)

성능 향상을 위해 병렬 처리, 클러스터링과 같은 기능을 탑재했다.
