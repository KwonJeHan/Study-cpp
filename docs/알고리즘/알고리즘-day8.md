# 알고리즘 학습 정리

**2025/02/21 [포텐업] 게임 개발자 양성 과정**

---

## 게임 알고리즘

### 쿼드 트리(Quad Tree)

2차원 공간을 분할하고 관리하는 계층적 자료구조

주로 2차원 공간에서 객체의 위치를 효율저긍로 관리하기 위해 사용된다.



#### 쿼드 트리의 분할 방식

사분면 분할 방식을 사용하며 하나의 노드는 네 개의 하위 노드로 분할된다.

* 하위 노드는 다음과 같이 나뉜다.
  1. 왼쪽 상단 (Top-Left)
  2. 오른쪽 상단 (Top-Right)
  3. 왼쪽 하단 (Bottom-Left)
  4. 오른쪽 하단 (Bottom-Right)



#### 쿼드 트리의 특징

- 2차원 공간을 4개의 동일한 크기의 사분면으로 분할한다.
- 각 노드가 최대 4개의 자식 노드를 가질 수 있다.
- 객체가 특정 노드에 너무 많이 포함되면, 그 노드는 다시 4개의 하위 노드로 분할
- 불필요한 충돌 검사를 줄여 성능을 개선 가능



#### 쿼드 트리 장단점

* 장점
  1. 충돌 검사 최적화 : 2차원 게임에서 객체 간 충돌 검사를 효율적으로 수행할 수 있다.
  2. 범위 검색 : 특정 영역 내의 객체를 빠르게 찾을 수 있다.
  3. 메모리 절약 : 필요에 따라 공간을 분할하므로 메모리 낭비가 적다.

* 단점
  1. 불균형 문제 : 객체가 한쪽에 몰리면 트리가 불균형하게 성장할 수 있다.
  2. 메모리 사용량 증가 : 트리의 깊이가 깊어지면 메모리 사용량이 증가한다.
  3. 삽입 및 삭제의 복잡성 : 객체를 삽입하거나 삭제할 때 트리 구조를 재조정해야 할 수도 있다.



### 게임 엔진에서의 씬 관리

게임 엔진에서는 씬(Scene) 내 객체 관리에 쿼드 트리를 사용하여 렌더링 최적화 및 충돌 감지를 수행 (기본 관리에선 사용하지 않는다.)



#### 충돌 감지

- 예시 : 슈팅 게임에서 총알과 적 충돌 검사
  - 총알이 화면 내에 있으면, 쿼드 트리에서 총알과 충돌할 가능성이 있는 적들만 검색
  - 모든 적을 검사하는 것이 아니라 쿼드 트리에 등록된 노드만 검사하여 성능 향상



#### 렌더링 최적화

- 예시 : 2D 게임에서 화면 밖에 있는 오브젝트 제거
  - 화면 밖에 있는 개체들은 렌더링할 필요 없음
  - 쿼드 트리를 이용해 카메라가 위치한 영역 내 객체들만 검색하여 렌더링



#### AI 및 경로 탐색

- 예시 : 적이 플레이어를 찾을 때 가까운 객체만 탐색
  - 적이 플레이어를 탐색할 때 모든 객체를 검사하는 것이 아니라, 같은 쿼드 트리 내에서 검색
  - 성능 최적화로 불필요한 거리 계산 최소화
