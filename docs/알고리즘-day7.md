# 알고리즘 학습 정리

**2025/02/20 [포텐업] 게임 개발자 양성 과정**

---

## 게임 알고리즘

### A* 길찾기 알고리즘

최단 경로를 찾는데 사용되며 다익스트라 알고리즘과 휴리스틱 기반 탐색의 장점을 결합해 효율적으로 경로를 찾는 탐색 알고리즘이다. 주로 게임 개발, 로봇 경로 탐색, 내비게이션 시스템 등에서 사용한다.



#### 다익스트라 알고리즘과의 비교

다익스트라 알고리즘 : 시작점에서 모든 정점까지의 최단 경로를 찾는 알고리즘

실제 이동 비용(gCost)을 기준으로 탐색하기 때문에 최단 경로를 보장하지만 탐색 범위가 넓어진다.



#### 휴리스틱 탐색과의 비교

휴리스틱 기반 탐색(탐욕적 탐색) : 목표에 빠르게 접근하려고 한다.

추정 비용(hCost)을 기준으로 탐색하여 목표로 향하지만, 최단 경로를 보장하지는 않는다.



#### A* 알고리즘이 경로를 찾는 과정

1. **시작 노드**를 기준으로 경로 탐색을 시작한다.
2. 현재 노드에서 이웃 노드(인접 노드)로 이동하면서, 각 이웃 노드의 **gCost**, **hCost**, **fCost**를 계산한다.
3. **fCost가 가장 작은 노드**를 선택해 탐색을 진행한다.
4. 목표 노드에 도달하면 탐색을 종료하고 최단 경로를 반환한다.
5. 탐색 도중 이미 탐색한 노드는 다시 탐색하지 않도록 관리한다.



#### A* 알고리즘 실행 단계

- A* 알고리즘은 최단 경로를 찾기 위해 몇 가지 단계로 실행된다.
- 각 단계를 통해 효율적이고 최적의 경로를 탐색한다.

### 1. **초기화**

- **시작 노드**를 열린 리스트(open list)에 추가한다.
- 열린 리스트는 아직 탐색해야 할 노드들을 저장한다.
- 닫힌 리스트(closed list)는 비어 있는 상태로 시작한다.
- 각 노드에 대해 gCost(시작점에서 현재 노드까지의 비용), hCost(현재 노드에서 목표 노드까지의 예상 비용), fCost(gCost와 hCost의 합)을 계산한다.
- 시작 노드의 gCost는 0이고, hCost는 시작 노드에서 목표 노드까지의 추정 비용으로 설정한다.
- fCost는 gCost + hCost로 계산된다.

### 2. **열린 리스트에서 fCost가 가장 작은 노드 선택**

- 열린 리스트에서 **fCost가 가장 작은 노드**를 선택한다.
- 이 노드는 현재까지 가장 유망한(가장 저렴한 비용으로 목표에 도달할 가능성이 높은) 노드이다.

### 3. **목표 노드 확인**

- 선택한 노드가 **목표 노드인지 확인**한다.
- 만약 목표 노드라면, 탐색을 종료하고 경로를 반환한다.
- 이때 선택된 노드의 부모 노드를 따라가면 최단 경로를 얻을 수 있다.

### 4. **선택한 노드를 닫힌 리스트로 이동**

- 선택한 노드를 열린 리스트에서 제거하고, **닫힌 리스트**에 추가한다.
- 닫힌 리스트에 있는 노드는 이미 탐색이 끝난 노드이므로 다시 탐색하지 않는다.

### 5. **이웃 노드(자식 노드) 탐색**

- 현재 노드의 모든 이웃 노드(인접한 노드)를 탐색한다.
- 각 이웃 노드에 대해 다음을 수행한다:
  1. 이웃 노드가 닫힌 리스트에 있는지 확인한다.
     - 이미 닫힌 리스트에 있다면, 이 노드는 무시하고 다음 이웃 노드를 확인한다.
  2. 이웃 노드의 gCost 계산
     - gCost = 현재 노드의 gCost + 현재 노드에서 이웃 노드까지의 비용
  3. 이웃 노드가 열린 리스트에 있는지 확인한다.
     - 열린 리스트에 없으면, 이웃 노드를 열린 리스트에 추가하고, gCost, hCost, fCost를 계산한다.
     - 이웃 노드의 **부모 노드**를 현재 노드로 설정한다.
  4. 이웃 노드가 열린 리스트에 이미 있다면, gCost를 비교한다.
     - 새로운 gCost가 기존 gCost 보다 작다면, 더 나은 경로를 찾은 것이므로 gCost와 fCost를 업데이트한다.
     - 부모 노드를 현재 노드로 다시 설정한다.

### 6. **반복**

- 열린 리스트가 비어 있지 않은 동안, 위의 단계를 계속 반복한다.
- 열린 리스트에서 f값이 가장 작은 노드를 계속 선택하여 탐색을 진행한다.
- 목표 노드에 도달하거나 열린 리스트가 비면 탐색이 종료된다.

### 7. **경로 반환**

- 목표 노드에 도달하면, **목표 노드에서 시작 노드로 역추적**하여 경로를 반환한다.
- 경로는 **부모 노드 링크**를 따라가면서 구성된다.
- 탐색이 완료되었는데도 열린 리스트가 비었다면, 경로가 존재하지 않는다는 의미이다.
