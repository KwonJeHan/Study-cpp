# 알고리즘 학습 정리

**2025/02/18 [포텐업] 게임 개발자 양성 과정**

---

## 탐색 알고리즘

### 레드 블랙 트리

#### 삭제

이진 탐색 트리와 같은 방식으로 삭제한 후에 레드 블랙 트리의 규칙에 맞게 노드를 재조정한다.

* 노드를 삭제한 후에는 레드 블랙 트리의 규칙을 만족하는지 확인하고, 만족하지 않는 경우에는 이를 복구한다.
  1. 노드는 레드 혹은 블랙 중의 하나다
  2. 루트 노드는 블랙이다
  3. 모든 리프 노드(자식 노드가 없는 노드, NIL)들은 블랙이다. (null노드를 NIL노드로 표기한다)
  4. 레드 노드의 양쪽 자식노드는 언제나 모두 블랙이다
  5. 어떤 노드에서 자식 NIL노드들까지 가는 경로들의 블랙 노드의  수는 같다. (이때 자기 자신은 세지(카운트)하지 않는다.)



#### 레드 블랙 트리에서 삭제 시 고려해야 할 케이스

**이진 트리 특징**

- 삭제할 노드에 자식이 하나 이하이면 바로 삭제. (이진 탐색 트리의 삭제 과정과 동일)
- 삭제할 노드에 두 개의 자식이 있으면, 왼쪽 서브 트리에서 가장 큰 값(또는 오른쪽 서브 트리에서 가장 작은 값)을 찾아 데이터를 교체한 후, 대체 노드를 삭제.
- 삭제 노드가 하나의 자식을 가지거나 리프 노드일 경우, 트리 연결 처리 후 삭제
- 삭제 노드가 루트 노드일 경우, root 변경

**레드 블랙 트리 특징**

- 삭제 노드가 Black일 경우, Double Black 문제가 발생할 수 있음. 재조정 필요. (Black의 높이 유지를 위해)
- 삭제 노드가 Red인 경우 재조정 필요 없음 (레드 노드의 삭제는 Black의 높이에 영향을 미치지 않기 때문에)

Double Black : 레드-블랙 트리에서는 모든 리프 노드까지의 블랙의 수가 동일해야 한다는 조건이 있는데, 노드를 삭제할 때 블랙의 불균형이 발생할 수 있다. 이 문제를 Doouble Black이라고 한다.



#### 레드 블랙 트리 삭제 시 재조정 과정

| **케이스** | **상황**                                                   | **해결 방법**                                                |
| ---------- | ---------------------------------------------------------- | ------------------------------------------------------------ |
| **Case 1** | 형제 노드가 **Red**                                        | 형제 노드를 Black으로 변경하고, 부모를 Red로 바꾼 후 부모 기준으로 **좌회전 또는 우회전** |
| **Case 2** | 형제와 형제의 두 자식이 **모두 Black**                     | 형제 노드를 **Red로 변경**하여 Black Height를 줄이고, 부모를 새로운 노드로 설정 후 다시 검사 |
| **Case 3** | 형제 노드는 Black, **형제의 한쪽 자식만 Red** (왼쪽이 Red) | 형제의 **왼쪽 자식을 Black으로 변경**, 형제를 Red로 변경 후 **형제 기준 우회전** |
| **Case 4** | 형제 노드는 Black, **형제의 오른쪽 자식이 Red**            | 형제를 **부모와 같은 색으로 설정**, 부모를 Black으로 변경, 형제의 오른쪽 자식을 Black으로 변경 후 **부모 기준 좌회전** |
